{"version":3,"sources":["snabbdom-dataset.js"],"names":["f","exports","module","define","amd","window","global","self","this","snabbdom_dataset","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","datasetModule","api","updateDataset","oldVnode","vnode","key","elm","oldDataset","data","dataset","removeData","setData","read","datas","_i","keys_1","listDatas","getData","create","update","Object","defineProperty","value","default"],"mappings":"CAAA,SAAUA,GAAG,GAAoB,iBAAVC,SAAoC,oBAATC,OAAsBA,OAAOD,QAAQD,SAAS,GAAmB,mBAATG,QAAqBA,OAAOC,IAAKD,UAAUH,OAAO,EAA0B,oBAATK,OAAwBA,OAA+B,oBAATC,OAAwBA,OAA6B,oBAAPC,KAAsBA,KAAYC,MAAOC,iBAAmBT,KAArU,CAA4U,WAAqC,OAAO,SAAUU,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIf,EAAE,IAAIoB,MAAM,uBAAuBL,EAAE,KAAK,MAAMf,EAAEqB,KAAK,mBAAmBrB,EAAE,IAAIsB,EAAEV,EAAEG,IAAId,YAAYU,EAAEI,GAAG,GAAGQ,KAAKD,EAAErB,QAAQ,SAASS,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIY,EAAEA,EAAErB,QAAQS,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGd,QAAkD,IAA1C,IAAIkB,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4bW,GAAG,SAASP,EAAQhB,EAAOD,GAC/0B,aAEA,SAASyB,EAAcC,GASnB,SAASC,EAAcC,EAAUC,GAC7B,IAAuFC,EAAnFC,EAAMF,EAAME,IAAKC,EAAaJ,EAASK,KAAKC,QAASA,EAAUL,EAAMI,KAAKC,QAC9E,IAAKF,GAAeE,IAEhBF,IAAeE,EAAnB,CAIA,IAAKJ,KAFLE,EAAaA,MACbE,EAAUA,MACEF,EACHE,EAAQJ,IACTJ,EAAIS,WAAWJ,EAAKD,GAG5B,IAAKA,KAAOI,EACJF,EAAWF,KAASI,EAAQJ,IAC5BJ,EAAIU,QAAQL,EAAKD,EAAKI,EAAQJ,KAI1C,OAASO,KA3BT,SAAqBR,GAEjB,IADA,IAAIE,EAAMF,EAAME,IAAgCO,KACvCC,EAAK,EAAGC,EADWd,EAAIe,UAAUV,GACVQ,EAAKC,EAAOjB,OAAQgB,IAAM,CACtD,IAAIT,EAAMU,EAAOD,GACjBD,EAAMR,GAAOJ,EAAIgB,QAAQX,EAAKD,GAElCD,EAAMI,KAAKC,QAAUI,GAqBGK,OAAQhB,EAAeiB,OAAQjB,GA7B/DkB,OAAOC,eAAe9C,EAAS,cAAgB+C,OAAO,IA+BtD/C,EAAQyB,cAAgBA,EACxBzB,EAAQgD,QAAUvB,YAEP,GApC6W,CAoCzW","file":"snabbdom-dataset.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.snabbdom_dataset = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction datasetModule(api) {\n    function readDataset(vnode) {\n        var elm = vnode.elm, keys = api.listDatas(elm), datas = {};\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            datas[key] = api.getData(elm, key);\n        }\n        vnode.data.dataset = datas;\n    }\n    function updateDataset(oldVnode, vnode) {\n        var elm = vnode.elm, oldDataset = oldVnode.data.dataset, dataset = vnode.data.dataset, key;\n        if (!oldDataset && !dataset)\n            return;\n        if (oldDataset === dataset)\n            return;\n        oldDataset = oldDataset || {};\n        dataset = dataset || {};\n        for (key in oldDataset) {\n            if (!dataset[key]) {\n                api.removeData(elm, key);\n            }\n        }\n        for (key in dataset) {\n            if (oldDataset[key] !== dataset[key]) {\n                api.setData(elm, key, dataset[key]);\n            }\n        }\n    }\n    return { read: readDataset, create: updateDataset, update: updateDataset };\n}\nexports.datasetModule = datasetModule;\nexports.default = datasetModule;\n\n},{}]},{},[1])(1)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJtb2R1bGVzL2RhdGFzZXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gZGF0YXNldE1vZHVsZShhcGkpIHtcbiAgICBmdW5jdGlvbiByZWFkRGF0YXNldCh2bm9kZSkge1xuICAgICAgICB2YXIgZWxtID0gdm5vZGUuZWxtLCBrZXlzID0gYXBpLmxpc3REYXRhcyhlbG0pLCBkYXRhcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMVtfaV07XG4gICAgICAgICAgICBkYXRhc1trZXldID0gYXBpLmdldERhdGEoZWxtLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZub2RlLmRhdGEuZGF0YXNldCA9IGRhdGFzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEYXRhc2V0KG9sZFZub2RlLCB2bm9kZSkge1xuICAgICAgICB2YXIgZWxtID0gdm5vZGUuZWxtLCBvbGREYXRhc2V0ID0gb2xkVm5vZGUuZGF0YS5kYXRhc2V0LCBkYXRhc2V0ID0gdm5vZGUuZGF0YS5kYXRhc2V0LCBrZXk7XG4gICAgICAgIGlmICghb2xkRGF0YXNldCAmJiAhZGF0YXNldClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG9sZERhdGFzZXQgPT09IGRhdGFzZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG9sZERhdGFzZXQgPSBvbGREYXRhc2V0IHx8IHt9O1xuICAgICAgICBkYXRhc2V0ID0gZGF0YXNldCB8fCB7fTtcbiAgICAgICAgZm9yIChrZXkgaW4gb2xkRGF0YXNldCkge1xuICAgICAgICAgICAgaWYgKCFkYXRhc2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICBhcGkucmVtb3ZlRGF0YShlbG0sIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChrZXkgaW4gZGF0YXNldCkge1xuICAgICAgICAgICAgaWYgKG9sZERhdGFzZXRba2V5XSAhPT0gZGF0YXNldFtrZXldKSB7XG4gICAgICAgICAgICAgICAgYXBpLnNldERhdGEoZWxtLCBrZXksIGRhdGFzZXRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgcmVhZDogcmVhZERhdGFzZXQsIGNyZWF0ZTogdXBkYXRlRGF0YXNldCwgdXBkYXRlOiB1cGRhdGVEYXRhc2V0IH07XG59XG5leHBvcnRzLmRhdGFzZXRNb2R1bGUgPSBkYXRhc2V0TW9kdWxlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGF0YXNldE1vZHVsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGFzZXQuanMubWFwIl19\n"]}